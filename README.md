# Online Chat Messenger

## æ¦‚è¦
ãƒãƒ£ãƒƒãƒˆãŒã§ãã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

## èª¬æ˜
ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€ã‚°ãƒ«ãƒ¼ãƒ—ãƒãƒ£ãƒƒãƒˆãŒã§ãã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

ã‚°ãƒ«ãƒ¼ãƒ—ãƒãƒ£ãƒƒãƒˆãŒã§ãã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨è¨€ãˆã°ã€æ—¥æœ¬ã§ã¯LINEã‚„KakaoTalkãªã©ãŒæœ‰åã§ã™ã­ã€‚

ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã€ä¾‹ã«æŒ™ã’ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ¡ã‚¤ãƒ³æ©Ÿèƒ½ã§ã‚ã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã®ã‚°ãƒ«ãƒ¼ãƒ—ãƒãƒ£ãƒƒãƒˆã‚’æ¥½ã—ã‚€ã“ã¨ãŒã§ãã¾ã™!

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ç°¡å˜ã«èµ·å‹•ã§ãã€å‹é”ã‚’æ‹›å¾…ã—ã¦ã™ãã«ã‚°ãƒ«ãƒ¼ãƒ—ãƒãƒ£ãƒƒãƒˆã‚’å§‹ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œã«ã¯ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã¨ã„ã†é»’ã„ç”»é¢ã«ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã—ã¾ã™ã€‚

åŸºæœ¬çš„ãªæ©Ÿèƒ½ã¨ã—ã¦ã€ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã®ä½œæˆ/å‚åŠ /ãƒ¦ãƒ¼ã‚¶ãƒ¼åŒå£«ã§ã®ã‚°ãƒ«ãƒ¼ãƒ—ãƒãƒ£ãƒƒãƒˆãŒã§ãã¾ã™ã€‚

## å‰ææ¡ä»¶
ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹ã«ã¯ã€ä¸‹è¨˜ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’äº‹å‰ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

### Git
GitãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„å ´åˆã¯ã€ä¸‹è¨˜æ‰‹é †ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ã€‚

1. ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’èµ·å‹•ã™ã‚‹ã€‚<br>ä½¿ç”¨ã™ã‚‹OSã«ã‚ˆã‚Šã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®åç§°ãŒç•°ãªã‚Šã¾ã™ã®ã§æ³¨æ„ã—ã¦ãã ã•ã„ã€‚<br>(ä¾‹. Windows:ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ,mac:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«)

2. GitãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã™ã‚‹ã€‚<br>`git version 2.34.1` ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚ŒãŸå ´åˆã¯ã€GitãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã™ã€‚<br>ä»¥é™ã®æ‰‹é †ã¯ã‚¹ã‚­ãƒƒãƒ—ã—ã¦ãã ã•ã„ã€‚<br>**ã¾ãŸã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã¯å¼•ãç¶šãä½¿ç”¨ã—ã¾ã™ã®ã§é–‹ã„ãŸã¾ã¾ã«ã—ã¦ãã ã•ã„!**
```
git --version
```

3. ã‚·ã‚¹ãƒ†ãƒ ã‚’æ›´æ–°ã™ã‚‹
```
sudo apt-get update
```

4. Gitã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹
```
sudo apt install git
```

5. GitãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚<br>`git version 2.34.1` ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚Œã°ã€Gitã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯å®Œäº†ã§ã™!
```
git --version
```

### Python 3.x
[Python](https://www.python.org/downloads/)ã®å…¬å¼ã‚µã‚¤ãƒˆã‹ã‚‰ã‚ãªãŸã®PCã®OSã«åˆã‚ã›ã¦ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚

ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ã€‚

PythonãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‹ã¯ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

`Python 3.10.12`ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚Œã°ã€Pythonã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã™ã€‚

```
python3 --version
```

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
### ã‚¯ãƒ­ãƒ¼ãƒ³
ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚ãªãŸã®PCã§å®Ÿè¡Œã™ã‚‹ãŸã‚ã«ã€ã‚¯ãƒ­ãƒ¼ãƒ³ã—ã¾ã™ã€‚

ã‚¯ãƒ­ãƒ¼ãƒ³ã¨ã¯ã€ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œã«å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«(ãƒªãƒã‚¸ãƒˆãƒªã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„)ã‚’ã‚ãªãŸã®PCã®ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã¸ã‚³ãƒ”ãƒ¼ã™ã‚‹ã“ã¨ã§ã™ã€‚

ä¸‹è¨˜æ‰‹é †ã§ã‚¯ãƒ­ãƒ¼ãƒ³ã—ã¦ãã ã•ã„ã€‚

1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã™ã‚‹
```
git clone https://github.com/teamdev-A-backend/online-chat-messenger.git
```

2. ã‚¯ãƒ­ãƒ¼ãƒ³ã—ãŸãƒªãƒã‚¸ãƒˆãƒªã¸ç§»å‹•ã™ã‚‹
```
cd online-chat-messenger
```


## ğŸš€ä½¿ç”¨æ–¹æ³•
1. ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’3ã¤èµ·å‹•ã—ã¾ã™ã€‚<br>èµ·å‹•ã—ãŸ3ã¤ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ã¤ã„ã¦ã¯ã€ä»¥é™ã®æ‰‹é †ã§ã¯ä¸‹è¨˜åç§°ã§å‘¼ã¶ã“ã¨ã¨ã—ã¾ã™ã€‚

| ã‚¿ãƒ¼ãƒŸãƒŠãƒ« | åç§° |
| ------- | ------- |
| ã‚¿ãƒ¼ãƒŸãƒŠãƒ«1 | ã‚µãƒ¼ãƒç”¨ã‚¿ãƒ¼ãƒŸãƒŠãƒ« |
| ã‚¿ãƒ¼ãƒŸãƒŠãƒ«2 | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”¨ã‚¿ãƒ¼ãƒŸãƒŠãƒ«1 |
| ã‚¿ãƒ¼ãƒŸãƒŠãƒ«3 | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”¨ã‚¿ãƒ¼ãƒŸãƒŠãƒ«2 |

2. ã‚µãƒ¼ãƒç”¨ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹
```
python3 server.py
```
3. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”¨ã‚¿ãƒ¼ãƒŸãƒŠãƒ«1ã«ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹
```
python3 client.py
```
4. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”¨ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«è¡¨ç¤ºã•ã‚Œã‚‹æŒ‡ç¤ºã«å¾“ã„ã€ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã‚’ä½œæˆã™ã‚‹
5. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”¨ã‚¿ãƒ¼ãƒŸãƒŠãƒ«2ã«ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹
```
python3 client.py
```
6. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”¨ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«è¡¨ç¤ºã•ã‚Œã‚‹æŒ‡ç¤ºã«å¾“ã„ã€æ‰‹é †4.ã§ä½œæˆã—ãŸãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã«å‚åŠ ã™ã‚‹
7. ãƒ¦ãƒ¼ã‚¶ãƒ¼åŒå£«ã§ã‚°ãƒ«ãƒ¼ãƒ—ãƒãƒ£ãƒƒãƒˆã‚’æ¥½ã—ã‚€
8. ã‚°ãƒ«ãƒ¼ãƒ—ãƒãƒ£ãƒƒãƒˆã‚’çµ‚äº†ã—ãŸã„å ´åˆã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”¨ã‚¿ãƒ¼ãƒŸãƒŠãƒ«1ã«`exit`ã¨å…¥åŠ›ã—ã¦çµ‚äº†ã™ã‚‹

## ä½¿ç”¨ä¾‹
ä¸€é€šã‚Šã®æ‰‹é †ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯[ãƒ‡ãƒ¢](#ãƒ‡ãƒ¢)ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚

1. ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’3ã¤èµ·å‹•ã—ã¾ã™ã€‚<br>èµ·å‹•ã—ãŸ3ã¤ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ã¤ã„ã¦ã¯ã€ä»¥é™ã®æ‰‹é †ã§ã¯ä¸‹è¨˜åç§°ã§å‘¼ã¶ã“ã¨ã¨ã—ã¾ã™ã€‚

| ã‚¿ãƒ¼ãƒŸãƒŠãƒ« | åç§° |
| ------- | ------- |
| ã‚¿ãƒ¼ãƒŸãƒŠãƒ«1 | ã‚µãƒ¼ãƒç”¨ã‚¿ãƒ¼ãƒŸãƒŠãƒ« |
| ã‚¿ãƒ¼ãƒŸãƒŠãƒ«2 | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”¨ã‚¿ãƒ¼ãƒŸãƒŠãƒ«1 |
| ã‚¿ãƒ¼ãƒŸãƒŠãƒ«3 | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”¨ã‚¿ãƒ¼ãƒŸãƒŠãƒ«2 |

2. ã‚µãƒ¼ãƒç”¨ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹
```
python3 server.py
```
3. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”¨ã‚¿ãƒ¼ãƒŸãƒŠãƒ«1ã«ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹
```
python3 client.py
```
4. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã‚’ä½œæˆã™ã‚‹ã€‚
```
python3 client.py
```
5. åˆ¥ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãŒãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã«å‚åŠ ã™ã‚‹
6. ãƒ¦ãƒ¼ã‚¶ãƒ¼åŒå£«ã§ã‚°ãƒ«ãƒ¼ãƒ—ãƒãƒ£ãƒƒãƒˆã‚’æ¥½ã—ã‚€ã€‚

### ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã«ã¤ã„ã¦
| ç”¨èª | æ„å‘³ |
| ------- | ------- |
| Input user name(Up to 10 characters) : | ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’å…¥åŠ›ã—ã¦ä¸‹ã•ã„ã€‚<br>æ–‡å­—æ•°ã¯ã€æœ€å¤§10æ–‡å­—ã¾ã§ã§ã™ã€‚<br>å…¥åŠ›ä¾‹. user1 |
| Input operation(choose 1 or 2) : | ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã‚’ä½œæˆã™ã‚‹ã‹å‚åŠ ã™ã‚‹ã‹é¸æŠã—ã¦ãã ã•ã„ã€‚<br>ãƒ»1 : ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã‚’ä½œæˆã™ã‚‹<br>ãƒ»2 : ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã«å‚åŠ ã™ã‚‹<br>å…¥åŠ›ä¾‹. 1 |
| Input room name(Up to 8 characters) : room1 | ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚<br>æ–‡å­—æ•°ã¯ã€æœ€å¤§8æ–‡å­—ã¾ã§ã§ã™ã€‚<br>å…¥åŠ›ä¾‹. room1 |
| Password conditions.<br>Must be between 6 and 11 characters and include the following characters.<br>ãƒ»Uppercase letters<br>ãƒ»Lowercase letters<br>ãƒ»NumbersInput<br>Input password :| ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚<br>6~11æ–‡å­—ã§ä¸‹è¨˜ã®æ–‡å­—ã‚’å«ã‚ã¦ãã ã•ã„ã€‚<br>ãƒ»ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆã®å¤§æ–‡å­—<br>ãƒ»ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆã®å°æ–‡å­—<br>ãƒ»æ•°å­—<br>å…¥åŠ›ä¾‹. Abc123 |
| Input room name size (Range 0 to 255): | ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã®æœ€å¤§äººæ•°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚<br>äººæ•°ã¯ã€0~255äººã§ã™ã€‚<br>å…¥åŠ›ä¾‹. 2 |
| Input host token :  | ãƒ›ã‚¹ãƒˆãƒˆãƒ¼ã‚¯ãƒ³ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚<br>ã“ã®æŒ‡ç¤ºã¯ã€`Input operation(choose 1 or 2) :`ã§2ã‚’å…¥åŠ›ã—ãŸå¾Œã«ã€è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ãŒä½œæˆã•ã‚ŒãŸæ™‚ã«ã€ãƒˆãƒ¼ã‚¯ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã¯ãšãªã®ã§ã‚³ãƒ”ãƒ¼ã—ã¦è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚<br>å…¥åŠ›ä¾‹. 858e85fc-6143-4086-99d2-4205135ae259 |

## ä½¿ç”¨æŠ€è¡“
<table>
<tr>
  <th>ã‚«ãƒ†ã‚´ãƒª</th>
  <th>æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯</th>
</tr>
<tr>
  <td>é–‹ç™ºè¨€èª</td>
  <td>Python</td>
</tr>
<tr>
  <td rowspan=2>ã‚¤ãƒ³ãƒ•ãƒ©</td>
  <td>Ubuntu</td>
</tr>
<tr>
  <td>VirtualBox</td>
</tr>
<tr>
  <td rowspan=2>ãã®ä»–</td>
  <td>Git</td>
</tr>
<tr>
  <td>Github</td>
</tr>
</table>


## ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®æµã‚Œ

1. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ãƒãƒ£ãƒƒãƒˆä½œæˆ(1)/å‚åŠ (2)ã®é¸æŠ
2. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®CLIã«å¾“ã£ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå…¥åŠ›
3. ã‚µãƒ¼ãƒå´ãŒå—ã‘å–ã£ãŸæƒ…å ±ã‚’å…ƒã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã‚’ä½œæˆ/å‚åŠ 
4. ã‚µãƒ¼ãƒãŒå—ã‘å–ã£ãŸãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€ä¿¡
5. ãƒãƒ£ãƒƒãƒˆã‚¹ã‚¿ãƒ¼ãƒˆ

```mermaid
graph TD
    A[CLIèµ·å‹•] --> B[ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¯ãƒ­ãƒ¼ãƒ³]
    B -- TCPé€šä¿¡ --> C[ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ä½œæˆ]
    B -- TCPé€šä¿¡ --> D[ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ å‚åŠ ]
    C --> E[ãƒãƒ£ãƒƒãƒˆåå…¥åŠ›/ãƒ¦ãƒ¼ã‚¶ãƒ¼åå…¥åŠ›]
    D --> E
    E -- UDPé€šä¿¡ --> F[ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€ä¿¡]
    
    
```

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å‰µæ„å·¥å¤«ç‚¹
1. ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯UDP/TCPé€šä¿¡ã§å‡¦ç†ã‚’é€²ã‚ã¦ã„ã‚‹ã“ã¨ã‹ã‚‰ã‚¯ãƒ©ã‚¹ã‚’
   - server.pyã‚’udp_serverã¨tcp_server
   - client.pyã‚’udp_clientã¨tcp_client
   
   ã«åˆ†ã‘ã‚‹ã‚ˆã†ã«ã—ã¦TCPâ†’UDPã®å‡¦ç†ã‚’ã‚¹ãƒ ãƒ¼ã‚ºã«é–‹ç™ºã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚
   
2. chat_roomã‚¯ãƒ©ã‚¹ã‚’åˆ¥ã§ä½œã£ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å„ã‚¯ãƒ©ã‚¹é–“ã§ä¼é”ã—ã‚„ã™ãã—ã¾ã—ãŸã€‚
## ã‚¯ãƒ©ã‚¹å›³

### 1. server
```mermaid
classDiagram
    class udp_Server {
        -BUFFER_SIZE: int
        -TIME_OUT: int
        -socket: socket
        -server_address: str
        -server_port: int
        -active_clients: dict
        -user_tokens: dict
        -chat_rooms: list
        -room_name: str
        +__init__(chatroom_list: list, server_address: str, server_port: int)
        +start(): None
        -receive_message(): None
        -multicast_send(message: str, room_name: str): None
        -check_inactive_clients(): None
        -encoder(data: str, intsize: int): bytes
        -decoder(data: bytes, result_type: str): str
        -check_timeout(): None
        -is_valid_chatroom(chat_rooms: dict, room_name_decode: str): bool
        -check_chatroom_validity(chat_rooms: dict, room_name_decode: str): None
    }
 class tcp_Server {
        -buffer_size: int
        -time_out: int
        -socket: socket
        -address: str
        -port: int
        -user_tokens: dict
        -chat_room_list: list
        +__init__(chatroom_list: list)
        +encoder(data: str, intsize: int): bytes
        +decoder(data: bytes, result_type: str): str
        +start(): None
        -handle_chat_connection(): None
        -process_message(data: bytes, client_socket: socket): None
        -initialize_chat_room(room_name: bytes, state: int, username: str, client_socket: socket): None
        -handle_token_response(room_name: bytes, state: int, username: str, client_socket: socket): None
        -custom_tcp_header(room_name_size: int, operation: int, state: int, operation_payload_size: int): bytes
        -custom_tcp_body_by_json(status_code: int, token: str): dict
        -authorize_to_join_chatroom(token: str, room_name: bytes, state: int, operation_payload: str, client_address: tuple): None
    }
class chat_room {
        -chat_room_list: dict
        +__init__(): None
        +create_chat_room(room_name: str, username: str, host_token: str, client_address: tuple): None
        +add_member_to_chatroom(room_name: str, member_token: str, client_address: tuple): None
        +remove_member_from_chatroom(room_name: str, member_token: str, client_address: tuple): None
        +remove_chatroom(room_name: str, member_token: str, client_address: tuple): None
    }
tcp_Server o-- chat_room
udp_Server o-- chat_room

```
### client
```mermaid
classDiagram
    class TCPClient {
        -NAME_SIZE: int
        -BUFFER_SIZE: int
        -socket: socket
        -server_address: str
        -server_port: int
        -username: str
        -namesize: int
        +__init__(server_address: str, server_port: int): None
        +start(): None
        +encoder(data: Any, intsize: int): bytes
        +decoder(data: bytes, result_type: str): Any
        +set_username(): None
        +send_username(operation: int, chatroom_name: str): None
        +receive_message(): None
        +custom_tcp_header(room_name_size: int, operation: int, state: int, operation_payload_size: int): bytes
        +select_action_mode(): int
        +input_room_name(): str
    }

class UDPClient {
        -BUFFER_SIZE: int
        -socket: socket
        -server_address: str
        -server_port: int
        -client_address: str
        -client_port: int
        -username: str
        -room_name: str
        -user_token: str
        -namesize: int
        +__init__(server_address: str, server_port: int, room_name: str, user_token: str): None
        +start(): None
        +encoder(data: Any, intsize: int): bytes
        +decoder(data: bytes, result_type: str): Any
        +send_message(room_name: str, token: str): None
        +receive_message(): None
    }

```


## TCPé€šä¿¡ã«ã¤ã„ã¦
-  TCPï¼ˆTransmission Control Protocolï¼‰ã¯ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚¹ã‚¤ãƒ¼ãƒˆã®ä¸€éƒ¨ã§ã‚ã‚Šã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ä»‹ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’é€å—ä¿¡ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®ä¸€ã¤ã§ã™ã€‚TCPã¯ã€ãƒ‡ãƒ¼ã‚¿ã®é€å—ä¿¡ã‚’ç¢ºå®Ÿã«è¡Œã†ãŸã‚ã®ä¿¡é ¼æ€§ã®é«˜ã„æ¥ç¶šã‚’æä¾›ã—ã¾ã™ã€‚ä»Šå›ã®chat roomä½œæˆ/æ¥ç¶šã¯é€å—ä¿¡ã®ç¢ºå®Ÿæ€§ã®è¦³ç‚¹ã‹ã‚‰æ¡ç”¨ã—ã¾ã—ãŸã€‚


- ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆ32ãƒã‚¤ãƒˆï¼‰ï¼šRoomNameSizeï¼ˆ1ãƒã‚¤ãƒˆï¼‰ | Operationï¼ˆ1ãƒã‚¤ãƒˆï¼‰ | Stateï¼ˆ1ãƒã‚¤ãƒˆï¼‰ | OperationPayloadSizeï¼ˆ29ãƒã‚¤ãƒˆï¼‰
- ãƒœãƒ‡ã‚£ï¼šæœ€åˆã®RoomNameSizeãƒã‚¤ãƒˆãŒãƒ«ãƒ¼ãƒ åã§ã€ãã®å¾Œã«OperationPayloadSizeãƒã‚¤ãƒˆãŒç¶šãã¾ã™ã€‚ãƒ«ãƒ¼ãƒ åã®æœ€å¤§ãƒã‚¤ãƒˆæ•°ã¯2^8ãƒã‚¤ãƒˆã§ã‚ã‚Šã€OperationPayloadSizeã®æœ€å¤§ãƒã‚¤ãƒˆæ•°ã¯2^29ãƒã‚¤ãƒˆã§ã™ã€‚


## UDPé€šä¿¡ã«ã¤ã„ã¦
- UDPï¼ˆUser Datagram Protocolï¼‰ã¯ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚¹ã‚¤ãƒ¼ãƒˆã®ä¸€éƒ¨ã§ã‚ã‚Šã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ä»‹ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’é€å—ä¿¡ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®ä¸€ã¤ã§ã™ã€‚UDPã¯ã€ãƒ‡ãƒ¼ã‚¿ã®é€å—ä¿¡ã‚’é«˜é€Ÿã«è¡Œã†ãŸã‚ã®ã‚·ãƒ³ãƒ—ãƒ«ãªæ¥ç¶šã‚’æä¾›ã—ã¾ã™ã€‚


- Clientå´ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã‚µã‚¤ã‚ºã‚’æ¤œè¨¼ã€‚4096ã‚’è¶…ãˆãŸã‚‰å†å…¥åŠ›ã‚’ä¿ƒã™ã€‚
- ãƒ˜ãƒƒãƒ€ãƒ¼ï¼šRoomNameSizeï¼ˆ1ãƒã‚¤ãƒˆï¼‰| TokenSizeï¼ˆ1ãƒã‚¤ãƒˆï¼‰
- ãƒœãƒ‡ã‚£ï¼šæœ€åˆã®RoomNameSizeãƒã‚¤ãƒˆã¯ãƒ«ãƒ¼ãƒ åã€æ¬¡ã®TokenSizeãƒã‚¤ãƒˆã¯ãƒˆãƒ¼ã‚¯ãƒ³æ–‡å­—åˆ—ã€ãã—ã¦ãã®æ®‹ã‚ŠãŒå®Ÿéš›ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã™ã€‚







